(()=>{"use strict";var e={265:function(e,t,i){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=async function(e){await(0,n.registerCommands)(e),(0,a.registerReferenceProviders)(e),await(0,s.registerCompletionItemProviders)(e);const t={scheme:"file",language:"blade"},i={scheme:"file",language:"php"},o=new p.default,l=new c.ViewProvider;e.subscriptions.push(r.languages.registerDocumentLinkProvider(t,o),r.languages.registerHoverProvider(t,o),r.languages.registerDocumentLinkProvider(i,l),r.languages.registerDocumentLinkProvider(t,l),r.languages.registerCompletionItemProvider(i,l,"('"),r.languages.registerCompletionItemProvider(t,l,"('")),console.log("Livewire Jump up")},t.deactivate=function(){};const r=i(398),n=i(610),a=i(514),s=i(853),p=o(i(252)),c=i(753)},610:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerCommands=async function(e){e.subscriptions.push(o.commands.registerCommand("livewire-jump.goToClass",l),o.commands.registerCommand("livewire-jump.goToView",l)),o.window.onDidChangeActiveTextEditor(c),c(o.window.activeTextEditor)};const o=i(398),r=i(790),n=i(822),a=i(443),s=i(928);let p;function c(e){if(p=void 0,o.commands.executeCommand("setContext","livewire-jump.hasView",!1),o.commands.executeCommand("setContext","livewire-jump.hasClass",!1),!e)return;const t=e.document.languageId;let i="";if("blade"===t)i="hasClass";else{if("php"!==t)return;i="hasView"}const c=o.workspace.getWorkspaceFolder(e.document.uri);if(!c)return;const l=o.workspace.asRelativePath(e.document.uri.path,!1);let u="";if("hasClass"===i){if(l.startsWith(n.LivewirePath.View+"/")){const e=(0,r.kebabToPascal)(l.replace(new RegExp("^"+n.LivewirePath.View),"").replace(/\.blade\.php$/,""));u=s.posix.join(n.LivewirePath.App,e+".php")}else if(l.startsWith(a.BladePath.View+"/")){const e=(0,r.kebabToPascal)(l.replace(new RegExp("^"+a.BladePath.View),"").replace(/\.blade\.php$/,""));u=s.posix.join(a.BladePath.App,e+".php")}}else if("hasView"===i)if(l.startsWith(n.LivewirePath.App+"/")){const e=(0,r.pascalToKebab)(l.replace(new RegExp("^"+n.LivewirePath.App),"").replace(/\.php$/,""));u=s.posix.join(n.LivewirePath.View,e+".blade.php")}else if(l.startsWith(a.BladePath.App+"/")){const e=(0,r.pascalToKebab)(l.replace(new RegExp("^"+a.BladePath.App),"").replace(/\.php$/,""));u=s.posix.join(a.BladePath.View,e+".blade.php")}if(console.log("Target:"+u),!u)return;const w=c.uri.with({path:s.posix.join(c.uri.path,u)});o.workspace.fs.stat(w).then((()=>{p=w,o.commands.executeCommand("setContext","livewire-jump."+i,!0)}),(()=>{}))}function l(){p&&o.workspace.openTextDocument(p).then((e=>{o.window.showTextDocument(e)}),(()=>{o.window.showInformationMessage("File not found: "+p?.fsPath)}))}},853:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerCompletionItemProviders=async function(e){e.subscriptions.push(await async function(){await l();const e=(0,r.baseUri)(s.LivewirePath.App),t=o.workspace.createFileSystemWatcher(n.posix.join(e?.path||"","**/*.php"));return t.onDidCreate(l),t.onDidChange(l),t.onDidDelete(l),t}(),o.languages.registerCompletionItemProvider({scheme:"file",language:"blade"},{provideCompletionItems:async(e,t)=>e.lineAt(t).text.slice(0,t.character).match(/<([a-z0-9\.\-\:]*)$/i)?p.map((e=>{const t=new o.CompletionItem(`livewire:${e}`,o.CompletionItemKind.Snippet);return t.detail="Livewire Component",t.insertText=new o.SnippetString(`livewire:${e} $0`),t.documentation=new o.MarkdownString(`Inserts a Livewire component: \n\n\`<livewire:${e} />\``),t})):[]},"<"))};const o=i(398),r=i(594),n=i(928),a=i(790),s=i(822);let p=[],c=!1;async function l(){if(c)return;p=[];const e=o.workspace.getConfiguration("livewire-jump");if(!e.livewire.autocomplete.enable)return;const t=(0,r.baseUri)(s.LivewirePath.App);if(!t)return;c=!0;const i=e.get("autocomplete.exclude",[]);try{const e=await o.workspace.fs.readDirectory(t);await u(e,t,"",i)}catch(e){console.error("Error updating components:",e)}finally{c=!1}}async function u(e,t,i,r){for(const[s,c]of e){const e=n.posix.join(t.path,s),l=n.posix.join(i,s);if(!w(l,r))if(c===o.FileType.Directory){const i=await o.workspace.fs.readDirectory(t.with({path:e}));await u(i,t.with({path:e}),l,r)}else if(c===o.FileType.File&&s.endsWith(".php")){const e=(0,a.pascalToKebab)(l.replace(/\.php$/,"").replace(/\//g,"."));e&&p.push(e)}}}function w(e,t){return t.some((t=>e.startsWith(t)))}},514:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.registerReferenceProviders=function(e){e.subscriptions.push()},i(398)},443:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.BladePath=void 0,function(e){e.App="app/View",e.View="resources/views"}(i||(t.BladePath=i={}))},822:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.LivewirePath=void 0,function(e){e.App="app/Livewire",e.View="resources/views/livewire"}(i||(t.LivewirePath=i={}))},252:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=i(398),r=i(443),n=i(928),a=i(790),s=i(822);class p{static TAG_REGEX=/<\/?((?:livewire:|x-)[a-z0-9][a-z0-9-\.]*)[\s\/$>]/g;refs={};components=[];async provideDocumentLinks(e){this.refs={};const t=o.workspace.getWorkspaceFolder(e.uri);if(!t)return[];const i=t.uri,c=[];for(let t=0;t<e.lineCount;t++){const l=e.lineAt(t);let u;do{if(u=p.TAG_REGEX.exec(l.text),u){const e=u[1],t=u[0],p=u.index+t.indexOf(e),w=new o.Position(l.lineNumber,p),h=new o.Position(l.lineNumber,p+e.length),d=new o.Range(w,h);if(e in this.refs){const t=this.refs[e];if(!t)continue;c.push(new o.DocumentLink(d,t))}const f=e.replace(/^livewire:/,"livewire/").replace(/^x-/,"components/").replace(/\./g,"/")+".blade.php",m=i.with({path:n.posix.join(i.path,r.BladePath.View,f)});try{await o.workspace.fs.stat(m),c.push(new o.DocumentLink(d,m)),this.refs[e]=m}catch{let t="";if(f.startsWith("components/")?t=(0,a.kebabToPascal)(f.replace(/\.blade\.php$/,""))+".php":f.startsWith("livewire/")&&(t=(0,a.kebabToPascal)(f.replace(/^livewire\//,"").replace(/\.blade\.php$/,""))+".php"),t){const r=m.with({path:n.posix.join(i.path,s.LivewirePath.App,t)});console.log(r.path);try{await o.workspace.fs.stat(r),c.push(new o.DocumentLink(d,r)),this.refs[e]=r}catch{this.refs[e]=null}}else this.refs[e]=null}}}while(u)}return c}provideHover(e,t){const i=e.lineAt(t.line).text;let r;for(;null!==(r=p.TAG_REGEX.exec(i));){const e=r[1],i=r.index,n=i+e.length;if(t.character>=i&&t.character<=n){const r=new o.Range(new o.Position(t.line,i),new o.Position(t.line,n)),a=this.refs[e];if(a){const t=o.workspace.asRelativePath(a.fsPath);return new o.Hover(`Livewire Component: **${e}**\n\nPath: ${t}`,r)}}}return null}async provideCompletionItems(e,t){return e.lineAt(t).text.slice(0,t.character).match(/<([a-z0-9-\.\:]*)$/i)?this.components.map((e=>{const t=new o.CompletionItem(`livewire:${e}`,o.CompletionItemKind.Snippet);return t.detail="Livewire Component",t.insertText=new o.SnippetString(`livewire:${e} $0`),t.documentation=new o.MarkdownString(`Inserts a Livewire component: \n\n\`<livewire:${e} />\``),t})):[]}}t.default=p},753:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ViewProvider=void 0;const o=i(398),r=i(443),n=i(928);class a{static VIEW_REGEX=/(?:view|layout|#\[Layout)\(['"]([^'"]*)['"]/g;async provideCompletionItems(e,t,i,a){if(!o.workspace.getConfiguration("livewire-jump").view.autocomplete)return[];if(!e.lineAt(t).text.substring(0,t.character).match(/(?:view|layout|#\[Layout)\(['"][^'"]*$/))return[];const s=o.workspace.getWorkspaceFolder(e.uri);if(!s)return[];const p=n.posix.join(s.uri.fsPath,r.BladePath.View);return(await this.getViewFiles(p)).map((e=>{const t=this.toViewName(p,e),i=new o.CompletionItem(t,o.CompletionItemKind.File);return i.detail="Laravel View",i.documentation=`View file: ${t}`,i}))}async provideDocumentLinks(e,t){if(!o.workspace.getConfiguration("livewire-jump").view.link)return[];const i=[],s=o.workspace.getWorkspaceFolder(e.uri);if(!s)return[];const p=n.posix.join(s.uri.fsPath,r.BladePath.View),c=e.getText();let l;for(;null!==(l=a.VIEW_REGEX.exec(c));){const t=l[1],r=this.toFilePath(p,t);if(r){const n=l.index+l[0].indexOf(t),a=n+t.length,s=e.positionAt(n),p=e.positionAt(a),c=o.Uri.file(r);try{await o.workspace.fs.stat(c),i.push(new o.DocumentLink(new o.Range(s,p),c))}catch{console.error(`File not found: ${c.fsPath}`)}}}return i}async getViewFiles(e){const t=[],i=await o.workspace.fs.readDirectory(o.Uri.file(e));for(const[o,r]of i){const i=n.posix.join(e,o);1===r?o.endsWith(".blade.php")&&t.push(i):2===r&&t.push(...await this.getViewFiles(i))}return t}toViewName(e,t){return n.posix.relative(e,t).replace(/\.blade\.php$/,"").replace(/[\\\/]/g,".")}toFilePath(e,t){return n.posix.join(e,t.replace(/\./g,n.posix.sep)+".blade.php")}}t.ViewProvider=a},790:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pascalToKebab=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},t.kebabToPascal=function(e){return e.replace(/[-_\/\\]\w/g,(e=>e.charAt(0)+e.charAt(1).toUpperCase())).replace(/[-_]+/g,"").replace(/^./,(e=>e.toUpperCase()))}},594:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baseUri=function(e){if(!r.workspace.workspaceFolders)return;const t=r.workspace.workspaceFolders[0].uri;return e?t.with({path:o.posix.join(t.path,e)}):t};const o=i(928),r=i(398)},398:e=>{e.exports=require("vscode")},928:e=>{e.exports=require("path")}},t={},i=function i(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o].call(n.exports,n,n.exports,i),n.exports}(265);module.exports=i})();
//# sourceMappingURL=extension.js.map